{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _defineProperty from\"/Users/andresbustos/mern/Cliente/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/andresbustos/mern/Cliente/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/andresbustos/mern/Cliente/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext,useEffect}from'react';import{Link}from'react-router-dom';import AlertaContext from'../../context/alertas/alertasContext';import AuthContext from'../../context/autenticacion/authContext';var NuevaCuenta=function NuevaCuenta(props){//extrer los valores del context\nvar alertaContext=useContext(AlertaContext);var alerta=alertaContext.alerta,mostrarAlerta=alertaContext.mostrarAlerta;var authContext=useContext(AuthContext);var mensaje=authContext.mensaje,autenticado=authContext.autenticado,registrarUsuario=authContext.registrarUsuario;// Si el usuario se registra, autentica o es un registro duplicado\nuseEffect(function(){if(autenticado){props.history.push('/proyectos');}if(mensaje){mostrarAlerta(mensaje.msg,mensaje.categoria);}// eslint-disable-next-line\n},[mensaje,autenticado,props.history]);// State para iniciar sesión\nvar _useState=useState({nombre:'',email:'',password:'',confirmar:''}),_useState2=_slicedToArray(_useState,2),usuario=_useState2[0],setUsuario=_useState2[1];//Extraer de usuario\nvar nombre=usuario.nombre,email=usuario.email,password=usuario.password,confirmar=usuario.confirmar;var onChange=function onChange(e){setUsuario(_objectSpread(_objectSpread({},usuario),{},_defineProperty({},e.target.name,e.target.value)));};//Cuando el usuario inicia sesión\nvar onSubmit=function onSubmit(e){e.preventDefault();// Validar campos vacios\nif(nombre.trim()===''||email.trim()===''||password.trim()===''||confirmar.trim()===''){mostrarAlerta('Todos los campos son obligatorios','alerta-error');return;}// Password minimo 6 caracteres\nif(password.length<6){mostrarAlerta('El password debe ser de minimo 6 caracteres','alerta-error');return;}//Los 2 passwords son iguales\nif(password!==confirmar){mostrarAlerta('Los password no son iguales','alerta-error');return;}//Pasarlo al action\nregistrarUsuario({nombre:nombre,email:email,password:password});};return/*#__PURE__*/_jsxs(\"div\",{className:\"form-usuario\",children:[alerta?/*#__PURE__*/_jsx(\"div\",{className:\"alerta \".concat(alerta.categoria),children:alerta.msg}):null,/*#__PURE__*/_jsxs(\"div\",{className:\"contenedor-form sombra-dark\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Obtener Cuenta\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"campo-form\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"nombre\",children:\"Nombre\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"nombre\",name:\"nombre\",placeholder:\"Tu Nombre\",value:nombre,onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"campo-form\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",name:\"email\",placeholder:\"Tu Email\",value:email,onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"campo-form\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",name:\"password\",placeholder:\"Tu Password\",value:password,onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"campo-form\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"confirmar\",children:\"Confirmar Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"confirmar\",name:\"confirmar\",placeholder:\"Repite tu Password\",value:confirmar,onChange:onChange})]}),/*#__PURE__*/_jsx(\"div\",{className:\"campo-form\",children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",className:\"btn btn-primario btn-block\",value:\"Registrarme\"})})]}),/*#__PURE__*/_jsx(Link,{to:'/',className:\"enlace-cuenta\",children:\"Volver a Iniciar Sesi\\xF3n\"})]})]});};export default NuevaCuenta;","map":{"version":3,"sources":["/Users/andresbustos/mern/Cliente/src/components/auth/NuevaCuenta.js"],"names":["React","useState","useContext","useEffect","Link","AlertaContext","AuthContext","NuevaCuenta","props","alertaContext","alerta","mostrarAlerta","authContext","mensaje","autenticado","registrarUsuario","history","push","msg","categoria","nombre","email","password","confirmar","usuario","setUsuario","onChange","e","target","name","value","onSubmit","preventDefault","trim","length"],"mappings":"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","sourcesContent":["import React, {useState, useContext, useEffect} from 'react';\nimport {Link} from 'react-router-dom';\nimport AlertaContext from '../../context/alertas/alertasContext';\nimport AuthContext from '../../context/autenticacion/authContext';\n\nconst NuevaCuenta = (props) => {\n    //extrer los valores del context\n    const alertaContext = useContext(AlertaContext);\n    const {alerta, mostrarAlerta} = alertaContext;\n\n    const authContext = useContext(AuthContext);\n    const {mensaje, autenticado, registrarUsuario} = authContext;\n    \n    // Si el usuario se registra, autentica o es un registro duplicado\n    useEffect(() => {\n        if(autenticado){\n            props.history.push('/proyectos');\n        }\n\n        if(mensaje) {\n            mostrarAlerta(mensaje.msg, mensaje.categoria);\n        }\n        // eslint-disable-next-line\n    }, [mensaje, autenticado, props.history]);\n\n    // State para iniciar sesión\n    const [usuario, setUsuario] = useState({\n        nombre : '',\n        email: '',\n        password: '',\n        confirmar: '',\n    });\n\n    //Extraer de usuario\n    const {nombre, email, password, confirmar} = usuario;\n    const onChange = e => {\n        setUsuario({\n            ...usuario,\n            [e.target.name] : e.target.value\n        })\n    }\n\n    //Cuando el usuario inicia sesión\n    const onSubmit = e => {\n        e.preventDefault();\n        // Validar campos vacios\n        if (\n            nombre.trim() === '' ||\n            email.trim() === '' ||\n            password.trim() === '' ||\n            confirmar.trim() === ''\n        ) {\n            mostrarAlerta('Todos los campos son obligatorios', 'alerta-error');\n            return;\n        }\n\n        // Password minimo 6 caracteres\n        if(password.length < 6){\n            mostrarAlerta('El password debe ser de minimo 6 caracteres', 'alerta-error');\n            return;\n        }\n\n        //Los 2 passwords son iguales\n        if(password !== confirmar) {\n            mostrarAlerta('Los password no son iguales', 'alerta-error');\n            return;\n        }\n\n        //Pasarlo al action\n        registrarUsuario({nombre, email, password});\n    }\n\n    return (\n        <div className=\"form-usuario\">\n            {\n                alerta \n                    ? (<div className={`alerta ${alerta.categoria}`}>{alerta.msg}</div>)\n                    : null\n            }\n            <div className=\"contenedor-form sombra-dark\">\n                <h1>Obtener Cuenta</h1>\n                <form\n                    onSubmit={onSubmit}\n                >\n                    <div className=\"campo-form\">\n                        <label htmlFor=\"nombre\">Nombre</label>\n                        <input\n                            type=\"text\"\n                            id=\"nombre\"\n                            name=\"nombre\"\n                            placeholder=\"Tu Nombre\"\n                            value={nombre}\n                            onChange ={onChange}\n                        />\n                    </div>\n\n                    <div className=\"campo-form\">\n                        <label htmlFor=\"email\">Email</label>\n                        <input\n                            type=\"email\"\n                            id=\"email\"\n                            name=\"email\"\n                            placeholder=\"Tu Email\"\n                            value={email}\n                            onChange ={onChange}\n                        />\n                    </div>\n\n                    <div className=\"campo-form\">\n                        <label htmlFor=\"password\">Password</label>\n                        <input\n                            type=\"password\"\n                            id=\"password\"\n                            name=\"password\"\n                            placeholder=\"Tu Password\"\n                            value = {password}\n                            onChange ={onChange}\n                        />\n                    </div>\n\n                    <div className=\"campo-form\">\n                        <label htmlFor=\"confirmar\">Confirmar Password</label>\n                        <input\n                            type=\"password\"\n                            id=\"confirmar\"\n                            name=\"confirmar\"\n                            placeholder=\"Repite tu Password\"\n                            value = {confirmar}\n                            onChange ={onChange}\n                        />\n                    </div>\n\n                    <div className=\"campo-form\">\n                        <input \n                            type=\"submit\" \n                            className=\"btn btn-primario btn-block\"\n                            value =\"Registrarme\"\n                        />\n                    </div>\n                </form>\n                <Link to={'/'} className='enlace-cuenta'>\n                    Volver a Iniciar Sesión\n                </Link>\n            </div>\n        </div>\n     );\n}\n \nexport default NuevaCuenta;"]},"metadata":{},"sourceType":"module"}