{"ast":null,"code":"import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"/Users/andresbustos/mern/Cliente/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/andresbustos/mern/Cliente/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/andresbustos/mern/Cliente/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useReducer}from'react';import TareaContext from'./tareaContext';import TareaReducer from'./tareaReducer';import{TAREAS_PROYECTO,AGREGAR_TAREA,VALIDAR_TAREA,ELIMINAR_TAREA,TAREA_ACTUAL,ACTUALIZAR_TAREA}from'../../types';import clienteAxios from'../../config/axios';var TareaState=function TareaState(props){var initialState={tareasproyecto:[],errortarea:false,tareaseleccionada:null};// Crear dispatch y state\nvar _useReducer=useReducer(TareaReducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];//crear las funciones\n//Obtener las tareas de un proyecto\nvar obtenerTareas=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(proyecto){var resultado;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return clienteAxios.get('/api/tareas',{params:{proyecto:proyecto}});case 3:resultado=_context.sent;dispatch({type:TAREAS_PROYECTO,payload:resultado.data.tareas});_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function obtenerTareas(_x){return _ref.apply(this,arguments);};}();//Agregar Tarea\nvar agregarTarea=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(tarea){var resultado;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return clienteAxios.post('/api/tareas',tarea);case 3:resultado=_context2.sent;dispatch({type:AGREGAR_TAREA,payload:resultado.data.tarea});_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);case 10:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7]]);}));return function agregarTarea(_x2){return _ref2.apply(this,arguments);};}();//Validar tarea\nvar validarTarea=function validarTarea(){dispatch({type:VALIDAR_TAREA});};//Eliminar tarea por id\nvar eliminarTarea=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id,proyecto){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return clienteAxios.delete(\"/api/tareas/\".concat(id),{params:{proyecto:proyecto}});case 3:dispatch({type:ELIMINAR_TAREA,payload:id});_context3.next=9;break;case 6:_context3.prev=6;_context3.t0=_context3[\"catch\"](0);console.log(_context3.t0);case 9:case\"end\":return _context3.stop();}}},_callee3,null,[[0,6]]);}));return function eliminarTarea(_x3,_x4){return _ref3.apply(this,arguments);};}();//EDITA UNA TAREA\nvar actualizarTarea=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(tarea){var resultado;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return clienteAxios.put(\"/api/tareas/\".concat(tarea._id),tarea);case 3:resultado=_context4.sent;dispatch({type:ACTUALIZAR_TAREA,payload:resultado.data.tarea});_context4.next=10;break;case 7:_context4.prev=7;_context4.t0=_context4[\"catch\"](0);console.log(_context4.t0);case 10:case\"end\":return _context4.stop();}}},_callee4,null,[[0,7]]);}));return function actualizarTarea(_x5){return _ref4.apply(this,arguments);};}();//Tarea actual\nvar guardarTareaActual=function guardarTareaActual(tarea){dispatch({type:TAREA_ACTUAL,payload:tarea});};return/*#__PURE__*/_jsx(TareaContext.Provider,{value:{tareasproyecto:state.tareasproyecto,errortarea:state.errortarea,tareaseleccionada:state.tareaseleccionada,agregarTarea:agregarTarea,obtenerTareas:obtenerTareas,validarTarea:validarTarea,eliminarTarea:eliminarTarea,guardarTareaActual:guardarTareaActual,actualizarTarea:actualizarTarea},children:props.children});};export default TareaState;","map":{"version":3,"sources":["/Users/andresbustos/mern/Cliente/src/context/tareas/tareaState.js"],"names":["React","useReducer","TareaContext","TareaReducer","TAREAS_PROYECTO","AGREGAR_TAREA","VALIDAR_TAREA","ELIMINAR_TAREA","TAREA_ACTUAL","ACTUALIZAR_TAREA","clienteAxios","TareaState","props","initialState","tareasproyecto","errortarea","tareaseleccionada","state","dispatch","obtenerTareas","proyecto","get","params","resultado","type","payload","data","tareas","console","log","agregarTarea","tarea","post","validarTarea","eliminarTarea","id","delete","actualizarTarea","put","_id","guardarTareaActual","children"],"mappings":"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","sourcesContent":["import React, { useReducer } from 'react';\nimport TareaContext from './tareaContext';\nimport TareaReducer from './tareaReducer';\nimport {\n    TAREAS_PROYECTO,\n    AGREGAR_TAREA,\n    VALIDAR_TAREA,\n    ELIMINAR_TAREA,\n    TAREA_ACTUAL,\n    ACTUALIZAR_TAREA\n} from '../../types';\n\nimport clienteAxios from '../../config/axios';\n\nconst TareaState = props => {\n    const initialState = {\n        tareasproyecto: [],\n        errortarea: false,\n        tareaseleccionada: null,\n    }\n    // Crear dispatch y state\n    const [state, dispatch] = useReducer(TareaReducer, initialState);\n\n    //crear las funciones\n\n\n    //Obtener las tareas de un proyecto\n    const obtenerTareas = async proyecto => {\n        try {\n            const resultado = await clienteAxios.get('/api/tareas', {params: {proyecto}});\n            dispatch ({\n                type: TAREAS_PROYECTO,\n                payload: resultado.data.tareas,\n            })\n        } catch (error) {\n            console.log(error);\n        }\n    }\n\n    //Agregar Tarea\n    const agregarTarea = async tarea => {\n        try {\n            const resultado = await clienteAxios.post('/api/tareas', tarea);\n            dispatch({\n                type: AGREGAR_TAREA,\n                payload: resultado.data.tarea,\n            })\n        } catch (error) {\n            console.log(error)\n        }\n    }\n\n    //Validar tarea\n    const validarTarea = () => {\n        dispatch({\n            type: VALIDAR_TAREA,\n        })\n    }\n\n    //Eliminar tarea por id\n    const eliminarTarea = async (id, proyecto) => {\n        try {\n            await clienteAxios.delete(`/api/tareas/${id}`, {params: {proyecto}});\n            dispatch({\n                type: ELIMINAR_TAREA,\n                payload: id,\n            })\n        } catch (error) {\n            console.log(error);\n        }\n    }\n\n     //EDITA UNA TAREA\n     const actualizarTarea = async tarea => {\n        try {\n            const resultado = await clienteAxios.put(`/api/tareas/${tarea._id}`,tarea);\n            dispatch({\n                type: ACTUALIZAR_TAREA,\n                payload: resultado.data.tarea,\n            });\n        } catch (error) {\n            console.log(error);\n        }\n    }\n\n    //Tarea actual\n    const guardarTareaActual = tarea => {\n        dispatch({\n            type: TAREA_ACTUAL,\n            payload: tarea\n        })\n    }\n\n    return (\n        <TareaContext.Provider\n            value={{\n                tareasproyecto : state.tareasproyecto,\n                errortarea: state.errortarea,\n                tareaseleccionada: state.tareaseleccionada,\n                agregarTarea,\n                obtenerTareas,\n                validarTarea,\n                eliminarTarea,\n                guardarTareaActual,\n                actualizarTarea\n            }}\n        >\n            {props.children}\n        </TareaContext.Provider>\n    )\n}\n\nexport default TareaState;"]},"metadata":{},"sourceType":"module"}