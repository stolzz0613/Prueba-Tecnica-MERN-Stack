{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _defineProperty from\"/Users/andresbustos/mern/Cliente/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/andresbustos/mern/Cliente/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/andresbustos/mern/Cliente/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext,useEffect}from'react';import{Link}from'react-router-dom';import AlertaContext from'../../context/alertas/alertasContext';import AuthContext from'../../context/autenticacion/authContext';var Login=function Login(props){//extrer los valores del context\nvar alertaContext=useContext(AlertaContext);var alerta=alertaContext.alerta,mostrarAlerta=alertaContext.mostrarAlerta;var authContext=useContext(AuthContext);var mensaje=authContext.mensaje,autenticado=authContext.autenticado,iniciarSesion=authContext.iniciarSesion;// Si el password o usuario no existe\nuseEffect(function(){if(autenticado){props.history.push('/proyectos');}if(mensaje){mostrarAlerta(mensaje.msg,mensaje.categoria);}// eslint-disable-next-line\n},[mensaje,autenticado,props.history]);// State para iniciar sesión\nvar _useState=useState({email:'',password:''}),_useState2=_slicedToArray(_useState,2),usuario=_useState2[0],setUsuario=_useState2[1];//Extraer de usuario\nvar email=usuario.email,password=usuario.password;var onChange=function onChange(e){setUsuario(_objectSpread(_objectSpread({},usuario),{},_defineProperty({},e.target.name,e.target.value)));};//Cuando el usuario inicia sesión\nvar onSubmit=function onSubmit(e){e.preventDefault();// Validar campos vacios \nif(email.trim()===''||password.trim()===''){mostrarAlerta('Todos los campos son obligatorios','alerta-error');}//Pasarlo al action\niniciarSesion({email:email,password:password});};return/*#__PURE__*/_jsxs(\"div\",{className:\"form-usuario\",children:[alerta?/*#__PURE__*/_jsx(\"div\",{className:\"alerta \".concat(alerta.categoria),children:alerta.msg}):null,/*#__PURE__*/_jsxs(\"div\",{className:\"contenedor-form sombra-dark\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Iniciar Sesi\\xF3n\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"campo-form\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",name:\"email\",placeholder:\"Tu Email\",value:email,onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"campo-form\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",name:\"password\",placeholder:\"Tu Password\",value:password,onChange:onChange})]}),/*#__PURE__*/_jsx(\"div\",{className:\"campo-form\",children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",className:\"btn btn-primario btn-block\",value:\"Iniciar Sesi\\xF3n\"})})]}),/*#__PURE__*/_jsx(Link,{to:'/nueva-cuenta',className:\"enlace-cuenta\",children:\"Obtener Cuenta\"})]})]});};export default Login;","map":{"version":3,"sources":["/Users/andresbustos/mern/Cliente/src/components/auth/Login.js"],"names":["React","useState","useContext","useEffect","Link","AlertaContext","AuthContext","Login","props","alertaContext","alerta","mostrarAlerta","authContext","mensaje","autenticado","iniciarSesion","history","push","msg","categoria","email","password","usuario","setUsuario","onChange","e","target","name","value","onSubmit","preventDefault","trim"],"mappings":"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","sourcesContent":["import React, {useState, useContext, useEffect} from 'react';\nimport {Link} from 'react-router-dom';\nimport AlertaContext from '../../context/alertas/alertasContext';\nimport AuthContext from '../../context/autenticacion/authContext';\n\nconst Login = (props) => {\n    \n    //extrer los valores del context\n    const alertaContext = useContext(AlertaContext);\n    const {alerta, mostrarAlerta} = alertaContext;\n\n    const authContext = useContext(AuthContext);\n    const {mensaje, autenticado, iniciarSesion} = authContext;\n\n    // Si el password o usuario no existe\n    useEffect(() => {\n        if(autenticado) {\n            props.history.push('/proyectos');\n        }\n        \n        if(mensaje) {\n            mostrarAlerta(mensaje.msg, mensaje.categoria);\n        }\n        // eslint-disable-next-line\n    }, [mensaje, autenticado, props.history]);\n\n    // State para iniciar sesión\n    const [usuario, setUsuario] = useState({\n        email: '',\n        password: '',\n    });\n\n    //Extraer de usuario\n    const {email, password} = usuario;\n    const onChange = e => {\n        setUsuario({\n            ...usuario,\n            [e.target.name] : e.target.value\n        })\n    }\n\n    //Cuando el usuario inicia sesión\n    const onSubmit = e => {\n        e.preventDefault();\n        // Validar campos vacios \n        if(email.trim() === '' || password.trim() === ''){\n            mostrarAlerta('Todos los campos son obligatorios', 'alerta-error');\n        }\n        //Pasarlo al action\n        iniciarSesion({email, password});\n    }\n\n    return ( \n        <div className=\"form-usuario\">\n            {\n                alerta \n                    ? (<div className={`alerta ${alerta.categoria}`}>{alerta.msg}</div>)\n                    : null\n            }\n            <div className=\"contenedor-form sombra-dark\">\n                <h1>Iniciar Sesión</h1>\n                <form\n                    onSubmit={onSubmit}\n                >\n                    <div className=\"campo-form\">\n                        <label htmlFor=\"email\">Email</label>\n                        <input\n                            type=\"email\"\n                            id=\"email\"\n                            name=\"email\"\n                            placeholder=\"Tu Email\"\n                            value={email}\n                            onChange ={onChange}\n                        />\n                    </div>\n\n                    <div className=\"campo-form\">\n                        <label htmlFor=\"password\">Password</label>\n                        <input\n                            type=\"password\"\n                            id=\"password\"\n                            name=\"password\"\n                            placeholder=\"Tu Password\"\n                            value = {password}\n                            onChange ={onChange}\n                        />\n                    </div>\n\n                    <div className=\"campo-form\">\n                        <input \n                            type=\"submit\" \n                            className=\"btn btn-primario btn-block\"\n                            value =\"Iniciar Sesión\"\n                        />\n                    </div>\n                </form>\n                <Link to={'/nueva-cuenta'} className='enlace-cuenta'>\n                    Obtener Cuenta\n                </Link>\n            </div>\n        </div>\n     );\n}\n \nexport default Login;"]},"metadata":{},"sourceType":"module"}