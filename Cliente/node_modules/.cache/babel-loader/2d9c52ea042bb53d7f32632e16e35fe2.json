{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _defineProperty from\"/Users/andresbustos/mern/Cliente/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/andresbustos/mern/Cliente/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/andresbustos/mern/Cliente/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState,useEffect}from'react';import proyectoContext from\"../../context/proyectos/proyectoContext\";import tareaContext from\"../../context/tareas/tareaContext\";var FormTarea=function FormTarea(){//Extraer proyectos state inicial\nvar proyectosContext=useContext(proyectoContext);var proyecto=proyectosContext.proyecto;var tareasContext=useContext(tareaContext);var obtenerTareas=tareasContext.obtenerTareas,agregarTarea=tareasContext.agregarTarea,validarTarea=tareasContext.validarTarea,errortarea=tareasContext.errortarea,tareaseleccionada=tareasContext.tareaseleccionada,actualizarTarea=tareasContext.actualizarTarea;//State del formulario\nvar _useState=useState({nombre:''}),_useState2=_slicedToArray(_useState,2),tarea=_useState2[0],setTarea=_useState2[1];useEffect(function(){if(tareaseleccionada!==null){setTarea(tareaseleccionada);}else{setTarea({nombre:''});}},[tareaseleccionada]);//Si no hay proyecto seleccionado\nif(!proyecto)return null;var _proyecto=_slicedToArray(proyecto,1),proyectoActual=_proyecto[0];//Leer los valores del forulario\nvar handleChane=function handleChane(e){setTarea(_objectSpread(_objectSpread({},tarea),{},_defineProperty({},e.target.name,e.target.value)));};var nombre=tarea.nombre;var onSubmit=function onSubmit(e){e.preventDefault();// validar\nif(nombre.trim()===''){validarTarea();return;}if(tareaseleccionada===null){//agregar tarea al state \ntarea.proyecto=proyectoActual._id;agregarTarea(tarea);}else{actualizarTarea(tarea);}//Obtener y filtrar las tareas\nobtenerTareas(proyectoActual.id);setTarea({nombre:''});};return/*#__PURE__*/_jsxs(\"div\",{className:\"formulario\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"contenedor-input\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input-text\",placeholder:\"Nombre Tarea...\",name:\"nombre\",value:nombre,onChange:handleChane})}),/*#__PURE__*/_jsx(\"div\",{className:\"contenedor-input\",children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",className:\"btn btn-primario btn-submit btn-block\",value:tareaseleccionada?'Editar Tarea':'Agregar Tarea'})})]}),errortarea?/*#__PURE__*/_jsx(\"p\",{className:\"mensaje error\",children:\"El nombre de la tarea es obligatorio\"}):null]});};export default FormTarea;","map":{"version":3,"sources":["/Users/andresbustos/mern/Cliente/src/components/tareas/FormTarea.js"],"names":["React","useContext","useState","useEffect","proyectoContext","tareaContext","FormTarea","proyectosContext","proyecto","tareasContext","obtenerTareas","agregarTarea","validarTarea","errortarea","tareaseleccionada","actualizarTarea","nombre","tarea","setTarea","proyectoActual","handleChane","e","target","name","value","onSubmit","preventDefault","trim","_id","id"],"mappings":"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","sourcesContent":["import React, {useContext, useState, useEffect} from 'react';\nimport  proyectoContext from \"../../context/proyectos/proyectoContext\";\nimport  tareaContext from \"../../context/tareas/tareaContext\";\n\nconst FormTarea = () => {\n\n    //Extraer proyectos state inicial\n    const proyectosContext = useContext(proyectoContext);\n    const { proyecto} = proyectosContext;\n\n    const tareasContext = useContext(tareaContext);\n    const {\n        obtenerTareas,\n        agregarTarea,\n        validarTarea,\n        errortarea,\n        tareaseleccionada,\n        actualizarTarea\n    } = tareasContext;\n\n\n    //State del formulario\n    const [tarea, setTarea] = useState({\n        nombre: ''\n    })\n\n    useEffect(() => {\n        if(tareaseleccionada !== null)Â {\n            setTarea(tareaseleccionada)\n        } else {\n            setTarea({\n                nombre: ''\n            })\n        }\n    }, [tareaseleccionada]);\n    //Si no hay proyecto seleccionado\n    if(!proyecto) return null;\n\n    const [proyectoActual] = proyecto;\n\n    //Leer los valores del forulario\n    const handleChane = e => {\n        setTarea({\n            ...tarea,\n            [e.target.name] : e.target.value\n        })\n    }\n\n    const {nombre} = tarea;\n\n    const onSubmit = e => {\n        e.preventDefault();\n        // validar\n        if(nombre.trim() === '') {\n            validarTarea();\n            return;\n        }\n\n        if(tareaseleccionada === null) {\n            //agregar tarea al state \n            tarea.proyecto = proyectoActual._id; \n            agregarTarea(tarea);\n        } else {\n            actualizarTarea(tarea);\n        }\n\n        //Obtener y filtrar las tareas\n        obtenerTareas(proyectoActual.id);\n\n        setTarea({\n            nombre: ''\n        })\n    }\n\n    return ( \n        <div className=\"formulario\">\n            <form\n                onSubmit={onSubmit}\n            >\n                <div className=\"contenedor-input\">\n                    <input\n                        type='text'\n                        className='input-text' \n                        placeholder='Nombre Tarea...'\n                        name='nombre'\n                        value={nombre}\n                        onChange={handleChane}\n                    />\n                </div>\n                <div className=\"contenedor-input\">\n                    <input\n                        type='submit'\n                        className='btn btn-primario btn-submit btn-block'\n                        value={tareaseleccionada ? 'Editar Tarea' : 'Agregar Tarea'}\n                    />\n                </div>\n            </form>\n            {errortarea ? <p className='mensaje error'>El nombre de la tarea es obligatorio</p> : null}\n        </div>\n    );\n}\n \nexport default FormTarea;"]},"metadata":{},"sourceType":"module"}